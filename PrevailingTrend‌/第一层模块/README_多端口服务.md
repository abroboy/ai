# 多端口服务管理系统

## 概述

本项目支持多个模块通过不同端口独立运行，每个模块都有独立的服务和管理界面。

## 服务端口分配

| 模块名称 | 端口 | 访问地址 | 描述 |
|---------|------|----------|------|
| 万得行业分类 | 5001 | http://localhost:5001 | 万得行业分类管理系统 |
| 国内热点数据 | 5002 | http://localhost:5002 | 国内热点数据监控系统 |
| 全球资金流向 | 5003 | http://localhost:5003 | 全球资金流向分析系统 |

## 快速启动

### 方法一：一键启动所有服务

```bash
# 在项目根目录下运行
java 第一层模块/quick_start.py
```

这将自动启动所有三个模块的服务。

### 方法二：手动启动单个服务

```bash
# 启动万得行业分类模块
cd 第一层模块/万得行业分类
java run_dashboard.py

# 启动国内热点数据模块
cd 第一层模块/国内热点数据
java app.py

# 启动全球资金流向模块
cd 第一层模块/全球资金流向
java display_service.py
```

## 服务测试

运行测试脚本验证所有服务是否正常运行：

```bash
java 第一层模块/test_multi_ports.py
```

## 各模块功能

### 1. 万得行业分类 (端口: 5001)

**功能特性：**
- 行业分类管理
- 股票映射管理
- 数据分析功能
- 系统设置

**主要页面：**
- 仪表盘概览
- 行业管理
- 股票映射
- 数据分析
- 系统设置

### 2. 国内热点数据 (端口: 5002)

**功能特性：**
- 热点数据收集
- 实时数据监控
- 数据统计分析
- 趋势分析

**主要页面：**
- 数据仪表盘
- 热点列表
- 数据统计
- 趋势图表

### 3. 全球资金流向 (端口: 5003)

**功能特性：**
- 全球资金流向监控
- 多资产类别分析
- 实时数据更新
- 趋势预测

**主要页面：**
- 资金流向仪表盘
- 流向分析
- 资产监控
- 趋势预测

## 技术架构

### 服务分离设计

每个模块都采用独立的服务架构：

1. **数据收集服务** - 负责数据采集和处理
2. **数据展示服务** - 负责前端界面和用户交互
3. **API服务** - 提供数据接口和业务逻辑

### 数据流向

```
数据源 → 数据收集服务 → 数据库 → 数据展示服务 → 用户界面
```

## 开发指南

### 添加新模块

1. 在 `第一层模块/` 目录下创建新模块目录
2. 在 `quick_start.py` 中添加新模块配置
3. 确保新模块有独立的端口号
4. 更新测试脚本 `test_multi_ports.py`

### 模块配置示例

```java
'新模块名称': {
    'port': 5004,  # 使用未被占用的端口
    'path': '第一层模块/新模块目录',
    'script': 'app.py',  # 启动脚本
    'description': '新模块描述'
}
```

## 故障排除

### 常见问题

1. **端口被占用**
   - 错误信息：`Address already in use`
   - 解决方案：修改模块配置中的端口号

2. **服务启动失败**
   - 检查依赖包是否安装
   - 检查配置文件是否正确
   - 查看错误日志

3. **数据连接失败**
   - 检查数据库连接配置
   - 确认数据库服务是否运行
   - 验证网络连接

### 日志查看

各模块的日志文件位置：
- 万得行业分类：`第一层模块/万得行业分类/logs/`
- 国内热点数据：`第一层模块/国内热点数据/logs/`
- 全球资金流向：`第一层模块/全球资金流向/logs/`

## 性能优化

### 建议配置

1. **内存配置**
   - 每个模块建议分配 512MB-1GB 内存
   - 总内存需求：2-3GB

2. **CPU配置**
   - 建议使用多核CPU
   - 每个模块可独立使用不同核心

3. **网络配置**
   - 确保本地网络稳定
   - 建议使用有线连接

### 监控指标

- 服务响应时间
- 内存使用率
- CPU使用率
- 数据库连接数
- 错误率

## 更新日志

### v1.0.0 (2025-08-26)
- 实现多端口服务架构
- 支持三个主要模块独立运行
- 添加一键启动功能
- 完善测试和监控功能

## 联系方式

如有问题或建议，请联系开发团队。 