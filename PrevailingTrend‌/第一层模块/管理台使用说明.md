# 第一层模块管理台使用说明

## 🎯 概述

第一层模块管理台是一个Web界面，用于管理和监控第一层模块的所有子模块。它提供了直观的界面来查看模块状态、管理服务、监控系统资源等功能。

## 🚀 快速开始

### 1. 启动管理台

```bash
# 进入管理台目录
cd 第一层模块/管理台

# 启动管理台服务
python app.py
```

### 2. 访问管理台

打开浏览器访问：http://localhost:8080

### 3. 启动所有服务

```bash
# 在第一层模块根目录
python start_all_services.py
```

## 📊 功能特性

### 1. 仪表板
- **模块统计**: 显示总模块数、运行中模块数、健康率等
- **实时状态**: 实时显示各个模块的运行状态
- **最近活动**: 显示最近的系统活动记录
- **系统资源**: 显示CPU、内存、磁盘使用情况

### 2. 模块管理
- **模块列表**: 显示所有模块的详细信息
- **状态控制**: 启动/停止各个模块
- **详细信息**: 查看模块的配置和API接口

### 3. 系统监控
- **健康检查**: 系统整体健康状态
- **资源监控**: CPU、内存、磁盘使用率
- **运行时间**: 系统运行时长统计

### 4. 日志查看
- **实时日志**: 查看系统运行日志
- **错误追踪**: 快速定位问题

## 🎛️ 界面说明

### 侧边栏导航
- **仪表板**: 系统概览和统计信息
- **模块管理**: 管理各个子模块
- **系统状态**: 系统资源监控
- **日志查看**: 系统日志查看

### 模块状态指示
- 🟢 **运行中**: 模块正常运行
- 🔴 **已停止**: 模块已停止
- 🟡 **警告**: 模块运行异常

## 🔧 API接口

### 管理台API

#### 获取所有模块信息
```
GET /api/modules
```

#### 获取指定模块信息
```
GET /api/modules/{module_id}
```

#### 更新模块状态
```
POST /api/modules/{module_id}/status
Content-Type: application/json

{
    "status": "running" | "stopped"
}
```

#### 获取仪表板数据
```
GET /api/dashboard
```

#### 系统健康检查
```
GET /api/system/health
```

### 万得行业分类API

#### 获取行业列表
```
GET http://localhost:5000/api/industries
```

#### 获取股票列表
```
GET http://localhost:5000/api/stocks/{industry_code}
```

## 📱 使用示例

### 1. 查看模块状态

1. 打开管理台：http://localhost:8080
2. 点击"模块管理"
3. 查看各个模块的运行状态

### 2. 启动/停止模块

1. 在模块管理页面
2. 点击对应模块的"启动"或"停止"按钮
3. 确认操作

### 3. 查看系统资源

1. 点击"系统状态"
2. 查看CPU、内存、磁盘使用情况
3. 查看系统健康状态

### 4. 查看日志

1. 点击"日志查看"
2. 查看系统运行日志
3. 定位问题

## 🔍 故障排除

### 1. 管理台无法访问

**问题**: 无法访问 http://localhost:8080

**解决方案**:
```bash
# 检查端口是否被占用
netstat -an | findstr :8080

# 重启管理台服务
cd 第一层模块/管理台
python app.py
```

### 2. 模块启动失败

**问题**: 模块状态显示"已停止"

**解决方案**:
1. 检查模块依赖是否安装
2. 查看错误日志
3. 手动启动模块进行调试

### 3. API接口无响应

**问题**: API接口返回错误

**解决方案**:
1. 检查对应模块是否启动
2. 验证API接口配置
3. 查看模块日志

## 📋 配置说明

### 管理台配置

管理台配置文件位于 `管理台/app.py`，主要配置项：

```python
# 服务配置
app.config['SECRET_KEY'] = 'prevailing_trend_admin_2025'
app.config['DEBUG'] = True

# 端口配置
app.run(host='0.0.0.0', port=8080, debug=True)
```

### 模块配置

各个模块的配置文件位于对应模块目录下：

- 万得行业分类: `万得行业分类/utils/config.py`
- 公司名字列表: `公司名字列表/utils/config.py`

## 🔄 自动刷新

管理台支持自动刷新功能：

- **仪表板**: 每30秒自动刷新
- **模块状态**: 实时更新
- **系统资源**: 实时监控

## 📈 性能优化

### 1. 减少刷新频率

如果系统资源紧张，可以调整刷新频率：

```javascript
// 在浏览器控制台执行
setInterval(refreshData, 60000); // 改为60秒刷新
```

### 2. 关闭调试模式

在生产环境中，建议关闭调试模式：

```python
app.config['DEBUG'] = False
```

## 🎉 总结

第一层模块管理台提供了完整的Web管理界面，让您可以：

1. **直观管理**: 通过Web界面管理所有模块
2. **实时监控**: 实时查看系统状态和资源使用
3. **快速操作**: 一键启动/停止模块
4. **问题诊断**: 快速查看日志和错误信息

**管理台地址**: http://localhost:8080

**API文档**: http://localhost:5000

现在您可以方便地管理和监控第一层模块的所有功能了！🚀 