# ä¸‡å¾—è¡Œä¸šåˆ†ç±»æ¨¡å—é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
ä¸‡å¾—è¡Œä¸šåˆ†ç±»/
â”œâ”€â”€ ğŸ“ java/                          # Javaæºä»£ç 
â”‚   â””â”€â”€ ğŸ“ com/
â”‚       â””â”€â”€ ğŸ“ windindustry/
â”‚           â”œâ”€â”€ ğŸ“ api/                # APIæ¥å£å±‚
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ DynamicStockApiServer.java    # åŠ¨æ€è‚¡ç¥¨æ•°æ®APIæœåŠ¡å™¨
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ ApiWebServer.java             # æ ‡å‡†API WebæœåŠ¡å™¨  
â”‚           â”‚   â””â”€â”€ ğŸ“„ RealTimeApiServer.java        # å®æ—¶APIæœåŠ¡å™¨
â”‚           â”œâ”€â”€ ğŸ“ service/            # æœåŠ¡ä¸šåŠ¡å±‚
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ StockDataFetcher.java         # è‚¡ç¥¨æ•°æ®æ‹‰å–æœåŠ¡
â”‚           â”‚   â”œâ”€â”€ ğŸ“„ RealTimeDataService.java      # å®æ—¶æ•°æ®æœåŠ¡
â”‚           â”‚   â””â”€â”€ ğŸ“„ DirectDataService.java        # ç›´æ¥æ•°æ®åº“æŸ¥è¯¢æœåŠ¡
â”‚           â””â”€â”€ ğŸ“ util/               # å·¥å…·ç±»
â”‚               â”œâ”€â”€ ğŸ“„ SimpleWebServer.java          # ç®€å•WebæœåŠ¡å™¨
â”‚               â””â”€â”€ ğŸ“„ SimpleWindApp.java            # ç®€å•åº”ç”¨ç¨‹åº
â”œâ”€â”€ ğŸ“ resources/                     # èµ„æºæ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“ static/                    # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ è®¾è®¡æ ·å¼.png                          # è®¾è®¡å‚è€ƒå›¾
â”‚   â”‚   â””â”€â”€ ğŸ“„ stocks_data.json                     # è‚¡ç¥¨æ•°æ®JSONæ–‡ä»¶
â”‚   â””â”€â”€ ğŸ“ templates/                 # HTMLæ¨¡æ¿
â”‚       â”œâ”€â”€ ğŸ“„ stock-mappings.html                  # è‚¡ç¥¨æ˜ å°„é¡µé¢ï¼ˆç»Ÿä¸€ç‰ˆæœ¬ï¼Œæ”¯æŒæ’åºï¼‰
â”‚       â””â”€â”€ ğŸ“„ åŠŸèƒ½æµ‹è¯•é¡µé¢.html                      # åŠŸèƒ½æµ‹è¯•é¡µé¢
â”œâ”€â”€ ğŸ“ scripts/                       # è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ ğŸ“„ compile.bat                              # ç¼–è¯‘è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ run.bat                                  # è¿è¡Œè„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ init_database.py                         # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ generate_stocks.py                       # è‚¡ç¥¨æ•°æ®ç”Ÿæˆè„šæœ¬
â”‚   â”œâ”€â”€ ğŸ“„ start*.bat                               # å„ç§å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ ğŸ“„ WindApp.groovy                           # Groovyåº”ç”¨è„šæœ¬
â”œâ”€â”€ ğŸ“ docs/                          # æ–‡æ¡£
â”‚   â”œâ”€â”€ ğŸ“„ åŠŸèƒ½å®ŒæˆæŠ¥å‘Š.md                           # åŠŸèƒ½å®ŒæˆæŠ¥å‘Š
â”‚   â”œâ”€â”€ ğŸ“„ åŠŸèƒ½æ€»è§ˆ.md                               # åŠŸèƒ½æ€»è§ˆ
â”‚   â”œâ”€â”€ ğŸ“„ å¯åŠ¨è¯´æ˜.md                               # å¯åŠ¨è¯´æ˜
â”‚   â””â”€â”€ ğŸ“„ æœåŠ¡å¯åŠ¨æŒ‡å—.md                           # æœåŠ¡å¯åŠ¨æŒ‡å—
â”œâ”€â”€ ğŸ“ build/                         # ç¼–è¯‘è¾“å‡ºç›®å½•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ ğŸ“ src/                           # Spring Bootæ ‡å‡†æºç ç›®å½•
â”œâ”€â”€ ğŸ“ target/                        # Mavenç¼–è¯‘ç›®å½•
â”œâ”€â”€ ğŸ“ apache-maven-3.9.6/            # Mavenå·¥å…·
â”œâ”€â”€ ğŸ“ spring-3.2.0/                  # Spring Bootå·¥å…·
â”œâ”€â”€ ğŸ“„ pom.xml                                      # Mavené…ç½®æ–‡ä»¶
â”œâ”€â”€ ğŸ“„ build.gradle                                 # Gradleé…ç½®æ–‡ä»¶
â””â”€â”€ ğŸ“„ mysql-connector-java-8.0.33.jar             # MySQLé©±åŠ¨
```

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ç¼–è¯‘è„šæœ¬ï¼ˆæ¨èï¼‰
```batch
# ç¼–è¯‘é¡¹ç›®
scripts\compile.bat

# å¯åŠ¨æœåŠ¡å™¨
scripts\run.bat
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨ç¼–è¯‘è¿è¡Œ
```batch
# ç¼–è¯‘Javaæ–‡ä»¶
javac -encoding UTF-8 -d build -cp "." java\com\windindustry\api\*.java java\com\windindustry\service\*.java java\com\windindustry\util\*.java

# å¯åŠ¨åŠ¨æ€è‚¡ç¥¨æ•°æ®æœåŠ¡å™¨
cd build
java -cp "." com.windindustry.api.DynamicStockApiServer
```

## ğŸ“Š ä¸»è¦åŠŸèƒ½æ¨¡å—

### 1. APIæ¥å£å±‚ (java/com/windindustry/api/)
- **DynamicStockApiServer**: ä¸»è¦çš„åŠ¨æ€è‚¡ç¥¨æ•°æ®APIæœåŠ¡å™¨ï¼Œæ”¯æŒ5000+åªè‚¡ç¥¨å®æ—¶æ•°æ®æ‹‰å–å’Œæ’åºåŠŸèƒ½
- **ApiWebServer**: æ ‡å‡†çš„API WebæœåŠ¡å™¨
- **RealTimeApiServer**: å®æ—¶APIæœåŠ¡å™¨

### 2. æœåŠ¡ä¸šåŠ¡å±‚ (java/com/windindustry/service/)
- **StockDataFetcher**: è‚¡ç¥¨æ•°æ®åŠ¨æ€æ‹‰å–æœåŠ¡ï¼Œä»å¤–éƒ¨APIè·å–å®æ—¶æ•°æ®
- **RealTimeDataService**: å®æ—¶æ•°æ®æœåŠ¡ï¼Œæä¾›æ•°æ®åº“æŸ¥è¯¢å’Œç¼“å­˜
- **DirectDataService**: ç›´æ¥æ•°æ®åº“æŸ¥è¯¢æœåŠ¡

### 3. å‰ç«¯æ¨¡æ¿ (resources/templates/)
- **stock-mappings.html**: è‚¡ç¥¨æ˜ å°„ç®¡ç†é¡µé¢ï¼ˆç»Ÿä¸€ç‰ˆæœ¬ï¼Œé›†æˆæ’åºåŠŸèƒ½ï¼‰
- **åŠŸèƒ½æµ‹è¯•é¡µé¢.html**: ç³»ç»ŸåŠŸèƒ½æµ‹è¯•é¡µé¢

### 4. æ•°æ®åº“è„šæœ¬ (scripts/)
- **init_database.py**: æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
- **generate_stocks.py**: è‚¡ç¥¨æ•°æ®ç”Ÿæˆè„šæœ¬

## ğŸ”§ æŠ€æœ¯æ¶æ„

- **åç«¯**: Java 17 + HttpServer
- **æ•°æ®åº“**: MySQL 8.0
- **å‰ç«¯**: HTML5 + Bootstrap 5 + JavaScript
- **æ„å»ºå·¥å…·**: Maven + Gradle
- **æ•°æ®æº**: ä¸œæ–¹è´¢å¯ŒAPIã€Yahoo Financeç­‰

## ğŸ“ ç›®å½•ç»“æ„ä¼˜åŠ¿

1. **æ¸…æ™°çš„åˆ†å±‚æ¶æ„**: APIå±‚ã€æœåŠ¡å±‚ã€å·¥å…·å±‚åˆ†ç¦»
2. **æ ‡å‡†çš„JavaåŒ…ç»“æ„**: ç¬¦åˆJavaé¡¹ç›®è§„èŒƒ
3. **èµ„æºæ–‡ä»¶åˆ†ç±»ç®¡ç†**: é™æ€èµ„æºã€æ¨¡æ¿ã€è„šæœ¬åˆ†åˆ«å­˜æ”¾
4. **ç¼–è¯‘è¾“å‡ºåˆ†ç¦»**: buildç›®å½•åŒ…å«ç¼–è¯‘åçš„æ–‡ä»¶
5. **æ–‡æ¡£å®Œæ•´**: docsç›®å½•åŒ…å«é¡¹ç›®è¯´æ˜æ–‡æ¡£

## ğŸ¯ è®¿é—®åœ°å€

- **ä¸»é¡µ**: http://localhost:5001
- **è‚¡ç¥¨æ˜ å°„ç®¡ç†**: http://localhost:5001/stock-mappings
- **APIç»Ÿè®¡**: http://localhost:5001/api/stock-mappings/stats
- **åŠŸèƒ½æµ‹è¯•é¡µé¢**: http://localhost:5001/åŠŸèƒ½æµ‹è¯•é¡µé¢.html

è¿™ç§ç›®å½•ç»“æ„ä½¿é¡¹ç›®æ›´åŠ è§„èŒƒåŒ–ã€æ˜“äºç»´æŠ¤å’Œæ‰©å±•ã€‚