# 万得行业分类模块项目结构说明

## 📁 项目目录结构

```
万得行业分类/
├── 📁 java/                          # Java源代码
│   └── 📁 com/
│       └── 📁 windindustry/
│           ├── 📁 api/                # API接口层
│           │   ├── 📄 DynamicStockApiServer.java    # 动态股票数据API服务器
│           │   ├── 📄 ApiWebServer.java             # 标准API Web服务器  
│           │   └── 📄 RealTimeApiServer.java        # 实时API服务器
│           ├── 📁 service/            # 服务业务层
│           │   ├── 📄 StockDataFetcher.java         # 股票数据拉取服务
│           │   ├── 📄 RealTimeDataService.java      # 实时数据服务
│           │   └── 📄 DirectDataService.java        # 直接数据库查询服务
│           └── 📁 util/               # 工具类
│               ├── 📄 SimpleWebServer.java          # 简单Web服务器
│               └── 📄 SimpleWindApp.java            # 简单应用程序
├── 📁 resources/                     # 资源文件
│   ├── 📁 static/                    # 静态资源
│   │   ├── 📄 设计样式.png                          # 设计参考图
│   │   └── 📄 stocks_data.json                     # 股票数据JSON文件
│   └── 📁 templates/                 # HTML模板
│       ├── 📄 stock-mappings.html                  # 股票映射页面（统一版本，支持排序）
│       └── 📄 功能测试页面.html                      # 功能测试页面
├── 📁 scripts/                       # 脚本文件
│   ├── 📄 compile.bat                              # 编译脚本
│   ├── 📄 run.bat                                  # 运行脚本
│   ├── 📄 init_database.py                         # 数据库初始化脚本
│   ├── 📄 generate_stocks.py                       # 股票数据生成脚本
│   ├── 📄 start*.bat                               # 各种启动脚本
│   └── 📄 WindApp.groovy                           # Groovy应用脚本
├── 📁 docs/                          # 文档
│   ├── 📄 功能完成报告.md                           # 功能完成报告
│   ├── 📄 功能总览.md                               # 功能总览
│   ├── 📄 启动说明.md                               # 启动说明
│   └── 📄 服务启动指南.md                           # 服务启动指南
├── 📁 build/                         # 编译输出目录（自动生成）
├── 📁 src/                           # Spring Boot标准源码目录
├── 📁 target/                        # Maven编译目录
├── 📁 apache-maven-3.9.6/            # Maven工具
├── 📁 spring-3.2.0/                  # Spring Boot工具
├── 📄 pom.xml                                      # Maven配置文件
├── 📄 build.gradle                                 # Gradle配置文件
└── 📄 mysql-connector-java-8.0.33.jar             # MySQL驱动
```

## 🚀 快速启动

### 方式一：使用编译脚本（推荐）
```batch
# 编译项目
scripts\compile.bat

# 启动服务器
scripts\run.bat
```

### 方式二：手动编译运行
```batch
# 编译Java文件
javac -encoding UTF-8 -d build -cp "." java\com\windindustry\api\*.java java\com\windindustry\service\*.java java\com\windindustry\util\*.java

# 启动动态股票数据服务器
cd build
java -cp "." com.windindustry.api.DynamicStockApiServer
```

## 📊 主要功能模块

### 1. API接口层 (java/com/windindustry/api/)
- **DynamicStockApiServer**: 主要的动态股票数据API服务器，支持5000+只股票实时数据拉取和排序功能
- **ApiWebServer**: 标准的API Web服务器
- **RealTimeApiServer**: 实时API服务器

### 2. 服务业务层 (java/com/windindustry/service/)
- **StockDataFetcher**: 股票数据动态拉取服务，从外部API获取实时数据
- **RealTimeDataService**: 实时数据服务，提供数据库查询和缓存
- **DirectDataService**: 直接数据库查询服务

### 3. 前端模板 (resources/templates/)
- **stock-mappings.html**: 股票映射管理页面（统一版本，集成排序功能）
- **功能测试页面.html**: 系统功能测试页面

### 4. 数据库脚本 (scripts/)
- **init_database.py**: 数据库初始化脚本
- **generate_stocks.py**: 股票数据生成脚本

## 🔧 技术架构

- **后端**: Java 17 + HttpServer
- **数据库**: MySQL 8.0
- **前端**: HTML5 + Bootstrap 5 + JavaScript
- **构建工具**: Maven + Gradle
- **数据源**: 东方财富API、Yahoo Finance等

## 📝 目录结构优势

1. **清晰的分层架构**: API层、服务层、工具层分离
2. **标准的Java包结构**: 符合Java项目规范
3. **资源文件分类管理**: 静态资源、模板、脚本分别存放
4. **编译输出分离**: build目录包含编译后的文件
5. **文档完整**: docs目录包含项目说明文档

## 🎯 访问地址

- **主页**: http://localhost:5001
- **股票映射管理**: http://localhost:5001/stock-mappings
- **API统计**: http://localhost:5001/api/stock-mappings/stats
- **功能测试页面**: http://localhost:5001/功能测试页面.html

这种目录结构使项目更加规范化、易于维护和扩展。